(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-122d2536"],{2801:function(e,t,a){"use strict";a.r(t);a("fb6a");var n=a("7a23"),r=Object(n["withScopeId"])("data-v-06004a28");Object(n["pushScopeId"])("data-v-06004a28");var o={class:"container sql"},c=Object(n["createTextVNode"])("区域选择:"),l=Object(n["createTextVNode"])("时间范围:"),i=Object(n["createTextVNode"])("查询"),u=Object(n["createTextVNode"])("重置"),s=Object(n["createTextVNode"])("导出"),d={class:"pagination flexCenter"};Object(n["popScopeId"])();var m=r((function(e,t,a,m,p,f){var b=Object(n["resolveComponent"])("crumbs"),h=Object(n["resolveComponent"])("el-col"),g=Object(n["resolveComponent"])("market"),k=Object(n["resolveComponent"])("el-radio-button"),j=Object(n["resolveComponent"])("el-radio-group"),O=Object(n["resolveComponent"])("el-date-picker"),v=Object(n["resolveComponent"])("el-button"),N=Object(n["resolveComponent"])("export-excel"),V=Object(n["resolveComponent"])("el-row"),S=Object(n["resolveComponent"])("el-table-column"),C=Object(n["resolveComponent"])("el-table"),R=Object(n["resolveComponent"])("el-pagination"),x=Object(n["resolveComponent"])("el-card");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])(b,{menu:"店铺客流",subMenu:"店铺过店"}),Object(n["createVNode"])("div",o,[Object(n["createVNode"])(V,null,{default:r((function(){return[Object(n["createVNode"])(h,{span:2,class:"fontCenter fontSet"},{default:r((function(){return[c]})),_:1}),Object(n["createVNode"])(h,{span:4},{default:r((function(){return[Object(n["createVNode"])(g,{onMarketGet:f.marketGet,marketSet:p.marketName},null,8,["onMarketGet","marketSet"])]})),_:1}),Object(n["createVNode"])(h,{span:2,class:"fontCenter fontSet borderSet"},{default:r((function(){return[l]})),_:1}),Object(n["createVNode"])(h,{span:10},{default:r((function(){return[Object(n["createVNode"])(h,{span:15},{default:r((function(){return[Object(n["createVNode"])(j,{modelValue:p.time,"onUpdate:modelValue":t[1]||(t[1]=function(e){return p.time=e})},{default:r((function(){return[Object(n["createVNode"])(k,{label:"近7日"}),Object(n["createVNode"])(k,{label:"近30日"}),Object(n["createVNode"])(k,{label:"近1年"}),Object(n["createVNode"])(k,{label:"自定义时间"})]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(h,{span:9},{default:r((function(){return[Object(n["createVNode"])(O,{style:{width:"100%"},disabled:p.datePickerAble,modelValue:p.timeRange,"onUpdate:modelValue":t[2]||(t[2]=function(e){return p.timeRange=e}),type:"daterange",shortcuts:p.shortcuts,clearable:!1,"disabled-date":p.disabledDate,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},null,8,["disabled","modelValue","shortcuts","disabled-date"])]})),_:1})]})),_:1}),Object(n["createVNode"])(h,{span:6},{default:r((function(){return[Object(n["createVNode"])(v,{type:"primary",icon:"el-icon-search",onClick:f.onQuery},{default:r((function(){return[i]})),_:1},8,["onClick"]),Object(n["createVNode"])(v,{type:"primary",icon:"el-icon-refresh-right",onClick:f.reSet},{default:r((function(){return[u]})),_:1},8,["onClick"]),Object(n["createVNode"])(N,{"file-name":f._fileName,header:["店铺名称","商场名称","进店率","进店率排行","过店率","过店率排行"],"filter-filed":["shopName","marketName","inShopRate","inRank","passShopRate","passRank"],data:f.exportTable()},{default:r((function(){return[s]})),_:1},8,["file-name","data"])]})),_:1})]})),_:1})]),Object(n["createVNode"])(x,{class:"marginTop10",shadow:"hover"},{default:r((function(){return[Object(n["createVNode"])(V,null,{default:r((function(){return[Object(n["createVNode"])(C,{class:"font-set",data:p.tableData.slice((p.currentPage-1)*p.pagesize,p.currentPage*p.pagesize),style:{width:"100%","margin-bottom":"10px","margin-top":"10px","font-size":"9px"},"row-key":"id",border:"","current-page":p.currentPage,stripe:"",onSortChange:f.sort_change},{default:r((function(){return[Object(n["createVNode"])(S,{prop:"shopName",label:"店铺名称",align:"center"}),Object(n["createVNode"])(S,{prop:"marketName",label:"商场名称",align:"center"}),Object(n["createVNode"])(S,{prop:"inShopRate",label:"进店率",formatter:f.formatter,sortable:"",align:"center"},null,8,["formatter"]),Object(n["createVNode"])(S,{prop:"inRank",label:"进店率排行",sortable:"",align:"center"}),Object(n["createVNode"])(S,{prop:"passShopRate",label:"过店率",sortable:"",formatter:f.formatter,align:"center"},null,8,["formatter"]),Object(n["createVNode"])(S,{prop:"passRank",label:"过店率排行",sortable:"",align:"center"})]})),_:1},8,["data","current-page","onSortChange"])]})),_:1}),Object(n["createVNode"])("div",d,[Object(n["createVNode"])(R,{class:"flexCenter",onSizeChange:f.handleSizeChange,onCurrentChange:f.handleCurrentChange,"page-sizes":[10],"page-size":p.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:p.total},null,8,["onSizeChange","onCurrentChange","page-size","total"])])]})),_:1})])})),p=(a("4de4"),a("99af"),a("00fe")),f=a("3660"),b=a("bc3a"),h=a.n(b),g=a("a7c0"),k={data:function(){var e=this;return{disabledDate:function(t){return t.getTime()>e.$moment()},time:"近7日",timeRange:"",marketName:"万达",datePickerAble:!0,shortcuts:[{text:"最近一周",value:function(){var t=new Date,a=new Date;return a.setTime(a.getTime()-6048e5),[e.$moment().subtract(7,"days"),t]}()},{text:"最近一月",value:function(){var t=new Date,a=new Date;return a.setTime(a.getTime()-2592e6),[e.$moment().subtract(1,"months"),t]}()},{text:"最近一年",value:function(){var t=new Date,a=new Date;return a.setFullYear(a.getFullYear()-1),[e.$moment().subtract(1,"years"),t]}()}],currentPage:1,pagesize:10,total:0,tableData:[]}},methods:{marketGet:function(e){this.marketName=e},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},reSet:function(){this.marketName="万达",this.time="近7日",this.onQuery()},onQuery:function(){var e=this;h()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/getShopByShop").then((function(t){var a=t.data.list.data;a=a.filter((function(t){return t.marketName==e.marketName})),a=a.sort((function(e,t){return t.inShopRate-e.inShopRate}));for(var n=0;n<a.length;n++)a[n].inRank=n+1;a=a.sort((function(e,t){return t.passShopRate-e.passShopRate}));for(var r=0;r<a.length;r++)a[r].passRank=r+1;a=a.sort((function(e,t){return t.inShopRate-e.inShopRate})),e.tableData=a,e.total=e.tableData.length}))},sort_change:function(e){console.log(e),"ascending"==e.order?this.tableData.sort((function(t,a){return t[e.prop]-a[e.prop]})):"descending"==e.order?this.tableData.sort((function(t,a){return a[e.prop]-t[e.prop]})):this.tableData.sort((function(e,t){return e.inRank-t.inRank}))},formatter:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return[].concat(t)[2]+"%"},exportTable:function(){return this.tableData}},components:{crumbs:p["a"],market:f["a"],ExportExcel:g["a"]},mounted:function(){var e=this;this.timeRange=[this.$moment().subtract(7,"days"),this.$moment()],h()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/getShopByShop").then((function(t){var a=t.data.list.data;a=a.filter((function(t){return t.marketName==e.marketName})),a=a.sort((function(e,t){return t.inShopRate-e.inShopRate}));for(var n=0;n<a.length;n++)a[n].inRank=n+1;a=a.sort((function(e,t){return t.passShopRate-e.passShopRate}));for(var r=0;r<a.length;r++)a[r].passRank=r+1;a=a.sort((function(e,t){return t.inShopRate-e.inShopRate})),e.tableData=a,e.total=e.tableData.length})),this.textWidth=document.getElementById("text").offsetWidth},watch:{time:function(e){"近7日"===e&&(this.timeRange=[this.$moment().subtract(7,"days"),this.$moment()]),"近30日"===e&&(this.timeRange=[this.$moment().subtract(1,"months"),this.$moment()]),"近1年"===e&&(this.timeRange=[this.$moment().subtract(1,"year"),this.$moment()]),this.datePickerAble="自定义时间"!=e}},computed:{_fileName:function(){return"".concat(this.marketName,"商场店铺过店分析-").concat(this.$moment().format("YYYYMMDD"))}}};a("d45f");k.render=m,k.__scopeId="data-v-06004a28";t["default"]=k},3660:function(e,t,a){"use strict";var n=a("7a23"),r=Object(n["withScopeId"])("data-v-29634978");Object(n["pushScopeId"])("data-v-29634978");var o=Object(n["createVNode"])("span",{id:"text"},"商场名称:",-1);Object(n["popScopeId"])();var c=r((function(e,t,a,c,l,i){var u=Object(n["resolveComponent"])("el-option"),s=Object(n["resolveComponent"])("el-select");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[o,Object(n["createVNode"])(s,{modelValue:l.marketValue,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.marketValue=e}),placeholder:"请选择",class:"widthset",style:i.widthSet,onChange:i.submitMarket,filterable:""},{default:r((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(l.marketList,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","style","onChange"])])})),l=(a("d81d"),a("bc3a")),i=a.n(l),u={props:["marketSet"],data:function(){return{marketValue:"万达",marketList:[],textWidth:""}},components:{},mounted:function(){var e=this;this.textWidth=document.getElementById("text").offsetWidth,i()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/getMall").then((function(t){e.marketList=t.data.list.map((function(e){return{label:e.marketName,value:e.marketName}}))}))},methods:{submitMarket:function(e){this.$emit("marketGet",e)}},computed:{widthSet:function(){return"width:calc(90% - ".concat(this.textWidth,"px);")}},watch:{marketSet:function(e){console.log(e),this.marketValue=e}}};a("c6da");u.render=c,u.__scopeId="data-v-29634978";t["a"]=u},"662a":function(e,t,a){},"72e6":function(e,t,a){},c6da:function(e,t,a){"use strict";a("72e6")},d45f:function(e,t,a){"use strict";a("662a")},fb6a:function(e,t,a){"use strict";var n=a("23e7"),r=a("861d"),o=a("e8b5"),c=a("23cb"),l=a("50c4"),i=a("fc6a"),u=a("8418"),s=a("b622"),d=a("1dde"),m=d("slice"),p=s("species"),f=[].slice,b=Math.max;n({target:"Array",proto:!0,forced:!m},{slice:function(e,t){var a,n,s,d=i(this),m=l(d.length),h=c(e,m),g=c(void 0===t?m:t,m);if(o(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?r(a)&&(a=a[p],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return f.call(d,h,g);for(n=new(void 0===a?Array:a)(b(g-h,0)),s=0;h<g;h++,s++)h in d&&u(n,s,d[h]);return n.length=s,n}})}}]);
//# sourceMappingURL=chunk-122d2536.d49f4459.js.map