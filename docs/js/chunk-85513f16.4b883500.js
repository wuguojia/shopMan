(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-85513f16"],{1276:function(e,t,a){"use strict";var n=a("d784"),r=a("44e7"),o=a("825a"),i=a("1d80"),l=a("4840"),c=a("8aa5"),u=a("50c4"),s=a("14c3"),d=a("9263"),f=a("d039"),m=[].push,h=Math.min,b=4294967295,p=!f((function(){return!RegExp(b,"y")}));n("split",2,(function(e,t,a){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,a){var n=String(i(this)),o=void 0===a?b:a>>>0;if(0===o)return[];if(void 0===e)return[n];if(!r(e))return t.call(n,e,o);var l,c,u,s=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,p=new RegExp(e.source,f+"g");while(l=d.call(p,n)){if(c=p.lastIndex,c>h&&(s.push(n.slice(h,l.index)),l.length>1&&l.index<n.length&&m.apply(s,l.slice(1)),u=l[0].length,h=c,s.length>=o))break;p.lastIndex===l.index&&p.lastIndex++}return h===n.length?!u&&p.test("")||s.push(""):s.push(n.slice(h)),s.length>o?s.slice(0,o):s}:"0".split(void 0,0).length?function(e,a){return void 0===e&&0===a?[]:t.call(this,e,a)}:t,[function(t,a){var r=i(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,r,a):n.call(String(r),t,a)},function(e,r){var i=a(n,e,this,r,n!==t);if(i.done)return i.value;var d=o(e),f=String(this),m=l(d,RegExp),g=d.unicode,k=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(p?"y":"g"),v=new m(p?d:"^(?:"+d.source+")",k),O=void 0===r?b:r>>>0;if(0===O)return[];if(0===f.length)return null===s(v,f)?[f]:[];var j=0,C=0,N=[];while(C<f.length){v.lastIndex=p?C:0;var V,x=s(v,p?f:f.slice(C));if(null===x||(V=h(u(v.lastIndex+(p?0:C)),f.length))===j)C=c(f,C,g);else{if(N.push(f.slice(j,C)),N.length===O)return N;for(var y=1;y<=x.length-1;y++)if(N.push(x[y]),N.length===O)return N;C=j=V}}return N.push(f.slice(j)),N}]}),!p)},2532:function(e,t,a){"use strict";var n=a("23e7"),r=a("5a34"),o=a("1d80"),i=a("ab13");n({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~String(o(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,a){var n=a("861d"),r=a("c6b6"),o=a("b622"),i=o("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==r(e))}},5419:function(e,t,a){"use strict";a("de60")},"5a34":function(e,t,a){var n=a("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},"8caa":function(e,t,a){"use strict";a.r(t);a("d81d"),a("fb6a"),a("4de4"),a("caad"),a("2532");var n=a("7a23"),r=Object(n["withScopeId"])("data-v-ef9543c4");Object(n["pushScopeId"])("data-v-ef9543c4");var o=Object(n["createVNode"])("span",{style:{"line-height":"40px"}},"商场名称:",-1),i=Object(n["createTextVNode"])("查询"),l=Object(n["createTextVNode"])("重置"),c=Object(n["createTextVNode"])("导出"),u=Object(n["createTextVNode"])("编辑"),s=Object(n["createTextVNode"])("删除"),d={class:"pagination"},f={class:"dialog-footer"},m=Object(n["createTextVNode"])("确 定"),h=Object(n["createTextVNode"])("取 消");Object(n["popScopeId"])();var b=r((function(e,t,a,b,p,g){var k=Object(n["resolveComponent"])("crumbs"),v=Object(n["resolveComponent"])("el-col"),O=Object(n["resolveComponent"])("el-option"),j=Object(n["resolveComponent"])("el-select"),C=Object(n["resolveComponent"])("el-button"),N=Object(n["resolveComponent"])("export-excel"),V=Object(n["resolveComponent"])("el-row"),x=Object(n["resolveComponent"])("el-table-column"),y=Object(n["resolveComponent"])("el-table"),w=Object(n["resolveComponent"])("el-pagination"),S=Object(n["resolveComponent"])("el-card"),D=Object(n["resolveComponent"])("el-form-item"),_=Object(n["resolveComponent"])("el-time-picker"),L=Object(n["resolveComponent"])("el-form"),z=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])(k,{menu:"商场管理",subMenu:"商场信息"}),Object(n["createVNode"])(S,null,{header:r((function(){return[Object(n["createVNode"])(V,null,{default:r((function(){return[Object(n["createVNode"])(v,{span:2},{default:r((function(){return[o]})),_:1}),Object(n["createVNode"])(v,{span:12},{default:r((function(){return[Object(n["createVNode"])(j,{modelValue:p.marketName,"onUpdate:modelValue":t[1]||(t[1]=function(e){return p.marketName=e}),placeholder:"请选择",clearable:""},{default:r((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(p.marketList,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(O,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(v,{span:9,style:{display:"flex","justify-content":"flex-end"}},{default:r((function(){return[Object(n["createVNode"])(C,{type:"primary",icon:"el-icon-search",onClick:g.onQuery},{default:r((function(){return[i]})),_:1},8,["onClick"]),Object(n["createVNode"])(C,{type:"primary",icon:"el-icon-refresh-right",onClick:g.reSet},{default:r((function(){return[l]})),_:1},8,["onClick"]),Object(n["createVNode"])(N,{"file-name":g._fileName,header:p.tableSet.map((function(e){return e.label})),"filter-filed":p.tableSet.map((function(e){return e.value})),data:g.exportTable},{default:r((function(){return[c]})),_:1},8,["file-name","header","filter-filed","data"])]})),_:1})]})),_:1})]})),default:r((function(){return[Object(n["createVNode"])(y,{data:p.tableData.filter((function(e){return!p.marketName||e.marketName.toLowerCase().includes(p.marketName.toLowerCase())})).slice((p.currentPage-1)*p.pagesize,p.currentPage*p.pagesize),border:"",class:"table","row-key":"id",ref:"multipleTable","header-cell-class-name":"table-header",onSelectionChange:e.handleSelectionChange,onSortChange:g.sortChange,"current-page":p.currentPage,stripe:""},{default:r((function(){return[Object(n["createVNode"])(x,{type:"index",label:"序号",width:"100",align:"center"}),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(p.tableSet,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(x,{key:e,prop:e.value,label:e.label,align:"center",sortable:"总流量"==e.label},null,8,["prop","label","sortable"])})),128)),Object(n["createVNode"])(x,{label:"操作",width:"200",align:"center"},{default:r((function(e){return[Object(n["createVNode"])(C,{onClick:function(t){return g.handleEdit(e.$index,e.row)},size:"mini"},{default:r((function(){return[u]})),_:2},1032,["onClick"]),Object(n["createVNode"])(C,{size:"mini",type:"danger",onClick:function(t){return g.handleDelete(e.$index,e.row)}},{default:r((function(){return[s]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data","onSelectionChange","onSortChange","current-page"]),Object(n["createVNode"])("div",d,[Object(n["createVNode"])(w,{onSizeChange:g.handleSizeChange,onCurrentChange:g.handleCurrentChange,"page-sizes":[2,5,10],"page-size":p.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:p.tableData.filter((function(e){return!p.marketName||e.marketName.toLowerCase().includes(p.marketName.toLowerCase())})).length},null,8,["onSizeChange","onCurrentChange","page-size","total"])])]})),_:1}),Object(n["createVNode"])(z,{title:"编辑",modelValue:p.editVisible,"onUpdate:modelValue":t[3]||(t[3]=function(e){return p.editVisible=e}),width:"30%"},{footer:r((function(){return[Object(n["createVNode"])("span",f,[Object(n["createVNode"])(C,{type:"primary",onClick:g.saveEdit},{default:r((function(){return[m]})),_:1},8,["onClick"]),Object(n["createVNode"])(C,{onClick:g.cancelEdit},{default:r((function(){return[h]})),_:1},8,["onClick"])])]})),default:r((function(){return[Object(n["createVNode"])(L,{ref:"form",model:p.form,"label-width":"130px"},{default:r((function(){return[Object(n["createVNode"])(D,{label:"商场名称："},{default:r((function(){return[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(p.form.marketName),1)]})),_:1}),Object(n["createVNode"])(D,{label:"营业时间段"},{default:r((function(){return[Object(n["createVNode"])(_,{"is-range":"",modelValue:p.timeRange,"onUpdate:modelValue":t[2]||(t[2]=function(e){return p.timeRange=e}),"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(D,{label:"商场所属集团:"},{default:r((function(){return[Object(n["createVNode"])("div",null,Object(n["toDisplayString"])(p.choose.marketGroup),1)]})),_:1}),Object(n["createVNode"])(D,{label:"所属大区:"},{default:r((function(){return[Object(n["createVNode"])("div",null,Object(n["toDisplayString"])(p.choose.regionalinfo),1)]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["modelValue"])])})),p=(a("a434"),a("ac1f"),a("1276"),a("00fe")),g=a("bc3a"),k=a.n(g),v=a("a7c0"),O={name:"marketInfo",data:function(){return{marketIndex:"",choose:{marketGroup:"",regionalinfo:""},timeRange:[],marketName:"",marketList:[],groupList:[],regionalinfoList:[],typeList:[],queryMarket:"",tableData:[],tableSet:[{value:"marketName",label:"商场名称"},{value:"marketGroup",label:"商场所属集团"},{value:"regionalinfo",label:"所属大区信息"},{value:"businessTime",label:"营业时间段"},{value:"totalFlow",label:"总流量"},{value:"dataTime",label:"日期"}],marketData:[{value:"qggc",marketname:"群光广场",marketgroup:"蓝天集团",regionalinfo:"华中大区",businesshours:"14",totalflow:123,date:"2020-1-1"},{value:"M+",marketname:"M+购物广场",marketgroup:"长江实业",regionalinfo:"华中大区",businesshours:"15",totalflow:221,date:"2020-1-1"},{value:"ytcyc",marketname:"银泰创意城",marketgroup:"ali",regionalinfo:"华中大区",businesshours:"11",totalflow:255,date:"2020-1-1"},{value:"sdgc",marketname:"时代商场",marketgroup:"汉龙实业",regionalinfo:"华中大区",businesshours:"12",totalflow:87,date:"2020-1-1"},{value:"zbcc",marketname:"中百仓储",marketgroup:"中百集团",regionalinfo:"华中大区",businesshours:"15",totalflow:231,date:"2020-1-1"},{value:"zsbh",marketname:"中商百货",marketgroup:"中商集团",regionalinfo:"华中大区",businesshours:"16",totalflow:222,date:"2020-1-1"}],marketDataCache:"",searchTableData:[],multipleSelection:[],delList:[],editVisible:!1,form:{},idx:-1,currentPage:1,pagesize:5,total:0}},mounted:function(){var e=this;k()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/getMarketInfo").then((function(t){console.log(t.data.list),e.tableData=t.data.list,e.marketList=t.data.marketName,e.regionalinfoList=t.data.regionalinfo,e.groupList=t.data.marketGroup,e.typeList=t.data.type}))},methods:{handleDelete:function(e){var t=this;this.$confirm("确定要删除这条记录吗？","提示",{type:"warning"}).then((function(){t.tableData.splice(e+(t.currentPage-1)*t.pagesize,1),t.total=t.tableData.filter((function(e){return!t.marketName||e.marketName.toLowerCase().includes(t.marketName.toLowerCase())})).length})).catch((function(){}))},handleEdit:function(e,t){console.log(t),this.choose.marketGroup=t.marketGroup,this.choose.regionalinfo=t.regionalinfo,this.timeRange=[this.$moment(t.businessTime.split("-")[0],"HH:mm"),this.$moment(t.businessTime.split("-")[1],"HH:mm")],console.log(this.timeRange),this.idx=e,this.marketDataCache=JSON.stringify(t),this.form=t,this.editVisible=!0},cancelEdit:function(){console.log(this.marketDataCache),this.editVisible=!1,this.tableData[this.idx]=JSON.parse(this.marketDataCache),this.marketDataCache=""},saveEdit:function(){this.editVisible=!1,this.form.businessTime=this.$moment(this.timeRange[0]).format("HH:mm")+"-"+this.$moment(this.timeRange[1]).format("HH:mm"),this.$message.success("修改第 ".concat(this.idx+1," 行成功")),this.tableData[this.idx]=this.form,this.marketDataCache=""},sortChange:function(e){"ascending"==e.order?this.tableData.sort((function(t,a){return t[e.prop]-a[e.prop]})):"descending"==e.order?this.tableData.sort((function(t,a){return a[e.prop]-t[e.prop]})):this.tableData.sort((function(e,t){return e.flowRank-t.flowRank}))},onQuery:function(){var e=this;k()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/getMarketInfo").then((function(t){console.log(t.data.list),e.tableData=t.data.list,e.marketList=t.data.marketName}))},reSet:function(){this.marketName="",this.onQuery()},handleSizeChange:function(e){this.pagesize=e,console.log(this.pagesize)},handleCurrentChange:function(e){this.currentPage=e}},components:{crumbs:p["a"],ExportExcel:v["a"]},computed:{exportTable:function(){var e=this;return this.tableData.filter((function(t){return!e.marketName||t.marketName.toLowerCase().includes(e.marketName.toLowerCase())}))},_fileName:function(){return"商场信息-".concat(this.$moment().format("YYYYMMDD"))}}};a("5419");O.render=b,O.__scopeId="data-v-ef9543c4";t["default"]=O},ab13:function(e,t,a){var n=a("b622"),r=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[r]=!1,"/./"[e](t)}catch(n){}}return!1}},caad:function(e,t,a){"use strict";var n=a("23e7"),r=a("4d64").includes,o=a("44d2");n({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},de60:function(e,t,a){},fb6a:function(e,t,a){"use strict";var n=a("23e7"),r=a("861d"),o=a("e8b5"),i=a("23cb"),l=a("50c4"),c=a("fc6a"),u=a("8418"),s=a("b622"),d=a("1dde"),f=d("slice"),m=s("species"),h=[].slice,b=Math.max;n({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var a,n,s,d=c(this),f=l(d.length),p=i(e,f),g=i(void 0===t?f:t,f);if(o(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?r(a)&&(a=a[m],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return h.call(d,p,g);for(n=new(void 0===a?Array:a)(b(g-p,0)),s=0;p<g;p++,s++)p in d&&u(n,s,d[p]);return n.length=s,n}})}}]);
//# sourceMappingURL=chunk-85513f16.4b883500.js.map