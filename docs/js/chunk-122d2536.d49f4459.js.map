{"version":3,"sources":["webpack:///./src/views/shopPassengerFlow/ShopByShop.vue","webpack:///./src/views/shopPassengerFlow/ShopByShop.vue?7d84","webpack:///./src/views/pages/indexSelect/MarketSelect.vue","webpack:///./src/views/pages/indexSelect/MarketSelect.vue?4d78","webpack:///./src/views/pages/indexSelect/MarketSelect.vue?49c5","webpack:///./src/views/shopPassengerFlow/ShopByShop.vue?598c","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["class","menu","subMenu","span","marketGet","marketSet","marketName","time","label","style","disabled","datePickerAble","timeRange","type","shortcuts","clearable","disabled-date","disabledDate","range-separator","start-placeholder","end-placeholder","align","icon","onQuery","reSet","file-name","_fileName","header","filter-filed","data","exportTable","shadow","tableData","slice","currentPage","pagesize","row-key","border","current-page","stripe","sort_change","prop","formatter","sortable","handleSizeChange","handleCurrentChange","page-sizes","page-size","layout","total","getTime","$moment","text","value","end","Date","start","setTime","subtract","setFullYear","getFullYear","methods","val","this","then","res","list","filter","item","sort","a","b","inShopRate","i","length","inRank","passShopRate","passRank","params","console","log","order","components","crumbs","Crumbs","market","MarketSelect","ExportExcel","mounted","textWidth","document","getElementById","offsetWidth","watch","computed","format","render","__scopeId","id","marketValue","placeholder","widthSet","submitMarket","filterable","marketList","key","props","map","$emit","$","isObject","isArray","toAbsoluteIndex","toLength","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","SPECIES","nativeSlice","max","Math","target","proto","forced","Constructor","result","n","O","k","fin","undefined","constructor","Array","prototype","call"],"mappings":"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","file":"js/chunk-122d2536.d49f4459.js","sourcesContent":["//店铺过店\r\n<template>\r\n  <div>\r\n    <!-- 面包屑 -->\r\n    <crumbs menu='店铺客流' subMenu='店铺过店' /> \r\n    <div class=\"container sql\">\r\n      <el-row >\r\n        <el-col :span='2' class=\"fontCenter fontSet\">区域选择:</el-col>\r\n        <el-col :span='4' >\r\n          <market @marketGet='marketGet' :marketSet='marketName'/>\r\n        </el-col>\r\n        <el-col :span='2' class=\"fontCenter fontSet borderSet\">时间范围:</el-col>\r\n        <el-col :span=\"10\">\r\n          <el-col :span='15'>\r\n            <el-radio-group v-model=\"time\" >\r\n                        <el-radio-button label=\"近7日\"></el-radio-button>\r\n                        <el-radio-button label=\"近30日\"></el-radio-button>\r\n                        <el-radio-button label=\"近1年\"></el-radio-button>\r\n                        <el-radio-button label=\"自定义时间\"></el-radio-button>\r\n                      </el-radio-group>\r\n          </el-col>\r\n          <el-col :span='9'>\r\n              <el-date-picker\r\n                style=\"width:100%;\"\r\n                :disabled='datePickerAble'\r\n                v-model=\"timeRange\"\r\n                type=\"daterange\"\r\n                :shortcuts=\"shortcuts\"\r\n                :clearable='false'\r\n                :disabled-date=\"disabledDate\"\r\n                range-separator=\"至\"\r\n                start-placeholder=\"开始日期\"\r\n                end-placeholder=\"结束日期\"\r\n                align=\"right\">\r\n              </el-date-picker>\r\n          </el-col>\r\n        </el-col>\r\n        <el-col :span=\"6\" >\r\n            <!-- <el-button-group> -->\r\n              <el-button type=\"primary\" icon=\"el-icon-search\" @click='onQuery' >查询</el-button>\r\n              <el-button type=\"primary\" icon=\"el-icon-refresh-right\" @click=\"reSet\">重置</el-button>\r\n              <export-excel :file-name=\"_fileName\" :header=\"['店铺名称','商场名称','进店率','进店率排行','过店率','过店率排行']\"\r\n              :filter-filed=\"['shopName','marketName','inShopRate','inRank','passShopRate','passRank']\" :data=\"exportTable()\">导出</export-excel>\r\n            <!-- </el-button-group> -->\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    <el-card class=\"marginTop10\" shadow=\"hover\">\r\n                  <el-row>\r\n                      <el-table class=\"font-set\"\r\n                        :data=\"tableData.slice((currentPage-1)*pagesize,currentPage*pagesize)\"\r\n                        style=\"width: 100%;margin-bottom: 10px;margin-top:10px;font-size: 9px\"\r\n                        row-key=\"id\"\r\n                        border\r\n                        :current-page=\"currentPage\"              \r\n                        stripe\r\n                        @sort-change=\"sort_change\"\r\n                      >\r\n                      <el-table-column\r\n                        prop=\"shopName\"\r\n                        label=\"店铺名称\"\r\n                        \r\n                        align=\"center\">\r\n                      </el-table-column>\r\n                      <el-table-column\r\n                        prop=\"marketName\"\r\n                        label=\"商场名称\"\r\n                        \r\n                        align=\"center\">\r\n                      </el-table-column>\r\n                      <el-table-column\r\n                        prop=\"inShopRate\"\r\n                        label='进店率'\r\n                        :formatter=\"formatter\"\r\n                        sortable\r\n                        align=\"center\">\r\n                      </el-table-column>\r\n                      <el-table-column\r\n                        prop=\"inRank\"\r\n                        label=\"进店率排行\"\r\n                        sortable\r\n                        align=\"center\">\r\n                      </el-table-column>\r\n                      <el-table-column\r\n                        prop=\"passShopRate\"\r\n                        label=\"过店率\"\r\n                        sortable\r\n                        :formatter=\"formatter\"\r\n                        align=\"center\">\r\n                      </el-table-column>\r\n                      <el-table-column\r\n                        prop=\"passRank\"\r\n                        label=\"过店率排行\"\r\n                        sortable\r\n                        align=\"center\">\r\n                      </el-table-column>\r\n                      \r\n                    </el-table>\r\n            </el-row>\r\n              <div class=\"pagination flexCenter\" >\r\n                  <el-pagination \r\n                      class=\"flexCenter\"\r\n                      @size-change=\"handleSizeChange\"\r\n                      @current-change=\"handleCurrentChange\"\r\n                      :page-sizes=\"[10]\"\r\n                      :page-size=\"pagesize\"\r\n                      layout=\"total, sizes, prev, pager, next, jumper\"\r\n                      :total=\"total\">     \r\n                  </el-pagination>\r\n              </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Crumbs from '../pages/Crumbs'\r\nimport MarketSelect from '../pages/indexSelect/MarketSelect'\r\nimport axios from 'axios'\r\nimport ExportExcel from '../pages/excel/ExportExcel'\r\n\r\nexport default {\r\n  data(){\r\n    return {\r\n      disabledDate:(time)=>{\r\n            return time.getTime()>this.$moment()\r\n        },\r\n      time:'近7日',\r\n      timeRange:'',\r\n      marketName:'万达',\r\n      datePickerAble:true,\r\n      shortcuts: [{\r\n                text: '最近一周',\r\n                value: (() => {\r\n                  const end = new Date();\r\n                  const start = new Date();\r\n                  start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n                  return [this.$moment().subtract(7, 'days'), end]\r\n                })()\r\n              }, {\r\n                text: '最近一月',\r\n                value: (() => {\r\n                  const end = new Date();\r\n                  const start = new Date();\r\n                  start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n                  return [this.$moment().subtract(1, 'months'), end]\r\n                })()\r\n              }, {\r\n                text: '最近一年',\r\n                value: (() => {\r\n                  const end = new Date();\r\n                  const start = new Date();\r\n                  start.setFullYear(start.getFullYear()-1)\r\n                  // start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n                  return [this.$moment().subtract(1, 'years'), end]\r\n                })()\r\n      }],\r\n      currentPage:1,//当前页\r\n      pagesize:10,//每页数量\r\n      total:0,//\r\n      tableData:[],\r\n\r\n    }\r\n  },\r\n  methods:{\r\n    marketGet(val){\r\n      this.marketName=val\r\n    },\r\n    handleSizeChange(val) {\r\n            this.pagesize=val;\r\n      },\r\n    handleCurrentChange(val) {\r\n            this.currentPage = val;\r\n      },\r\n    reSet(){\r\n      this.marketName='万达'\r\n      this.time='近7日'\r\n      this.onQuery()\r\n    },\r\n    onQuery(){\r\n      axios('https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/getShopByShop').then(res=>{\r\n        let data=res.data.list.data\r\n        data=data.filter(item=>item.marketName==this.marketName)\r\n        data=data.sort((a,b)=>b.inShopRate-a.inShopRate)\r\n          for(let i=0;i<data.length;i++){\r\n            data[i].inRank=i+1\r\n          }\r\n          data=data.sort((a,b)=>b.passShopRate-a.passShopRate)\r\n          for(let i=0;i<data.length;i++){\r\n            data[i].passRank=i+1\r\n          }\r\n          data=data.sort((a,b)=>b.inShopRate-a.inShopRate)\r\n        this.tableData=data\r\n        this.total=this.tableData.length\r\n        })\r\n    },\r\n    sort_change(params){  \r\n        console.log(params)\r\n        if(params.order==\"ascending\"){\r\n          this.tableData.sort((a,b)=>a[params.prop]-b[params.prop])\r\n        }else if(params.order==\"descending\"){\r\n          this.tableData.sort((a,b)=>b[params.prop]-a[params.prop])\r\n        }else {\r\n          this.tableData.sort((a,b)=>a.inRank-b.inRank)\r\n        }\r\n        \r\n      },\r\n    formatter(...res){\r\n      return [...res][2]+'%'\r\n    },\r\n    exportTable(){\r\n      // for(let i=0;i<this.tableData.length;i++){\r\n      //   this.tableData[i].marketName=this.marketName\r\n      // }\r\n      return this.tableData\r\n    }\r\n  },\r\n  components:{\r\n    crumbs:Crumbs,\r\n    // areaSelect:AreaSelect,\r\n    market:MarketSelect,\r\n    ExportExcel\r\n    // chart:Chart,\r\n    // smallTag\r\n\r\n    // indexSelect:IndexSelect,\r\n  },\r\n  mounted(){\r\n    this.timeRange=[this.$moment().subtract(7, 'days'),this.$moment()]\r\n    axios('https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/getShopByShop').then(res=>{\r\n      let data=res.data.list.data\r\n      data=data.filter(item=>item.marketName==this.marketName)\r\n      data=data.sort((a,b)=>b.inShopRate-a.inShopRate)\r\n        for(let i=0;i<data.length;i++){\r\n          data[i].inRank=i+1\r\n        }\r\n        data=data.sort((a,b)=>b.passShopRate-a.passShopRate)\r\n        for(let i=0;i<data.length;i++){\r\n          data[i].passRank=i+1\r\n        }\r\n        data=data.sort((a,b)=>b.inShopRate-a.inShopRate)\r\n      this.tableData=data\r\n      this.total=this.tableData.length\r\n      })\r\n      this.textWidth=document.getElementById('text').offsetWidth\r\n    \r\n  },\r\n  watch:{\r\n    time(val){\r\n      if(val==='近7日'){\r\n        this.timeRange=[this.$moment().subtract(7, 'days'),this.$moment()]\r\n      }\r\n      if(val===\"近30日\"){\r\n        this.timeRange=[this.$moment().subtract(1, 'months'),this.$moment()]\r\n      }\r\n      if(val===\"近1年\"){\r\n        this.timeRange=[this.$moment().subtract(1, 'year'),this.$moment()]\r\n      }\r\n       if(val=='自定义时间'){\r\n          this.datePickerAble=false\r\n        }else this.datePickerAble=true\r\n    },\r\n  \r\n  },\r\n  computed:{\r\n    _fileName(){\r\n      return `${this.marketName}商场店铺过店分析-${this.$moment().format('YYYYMMDD')}`\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n .borderSet{\r\n    /* border-right: 2px solid black; */\r\n    border-left: 2px solid #C0C4CC;\r\n  }\r\n  .flexCenter{\r\n    display: flex;\r\n    align-items: center; /*垂直方向居中*/\r\n    justify-content: space-around;  /*水平方向居中*/\r\n    /* flex-wrap: wrap; */\r\n  }\r\n  .flexJus{\r\n    display: flex;\r\n    justify-content: space-around;  /*水平方向居中*/\r\n  }\r\n .card-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n  }\r\n  .card-header span{\r\n    font-size: 20px;\r\n    font-weight: bolder;\r\n  }\r\n  .fontSet{\r\n     font-size: 18px;\r\n    font-weight: bolder;\r\n  }\r\n  .flexCenter{\r\n    display: flex;\r\n    align-items: center; /* 垂直方向居中 */\r\n    justify-content: flex-end;  /*水平方向居中*/\r\n\r\n  }\r\n.fontCenter{\r\n    display: flex;\r\n    align-items: center; /* 垂直方向居中 */\r\n    justify-content: space-around;\r\n\r\n  }\r\n</style>","import { render } from \"./ShopByShop.vue?vue&type=template&id=06004a28&scoped=true\"\nimport script from \"./ShopByShop.vue?vue&type=script&lang=js\"\nexport * from \"./ShopByShop.vue?vue&type=script&lang=js\"\n\nimport \"./ShopByShop.vue?vue&type=style&index=0&id=06004a28&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-06004a28\"\n\nexport default script","// 商场选择框\r\n<template>\r\n  <div>\r\n    <span id='text'>商场名称:</span> \r\n            <el-select v-model=\"marketValue\" placeholder=\"请选择\" class=\"widthset\" :style='widthSet' @change=\"submitMarket\"  filterable>\r\n              <el-option\r\n                v-for=\"item in marketList\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n  </div>\r\n  \r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nexport default { \r\n  props:['marketSet'],\r\n  data(){\r\n    return {\r\n      marketValue:'万达',//选择的商场\r\n      marketList:[],//商场列表\r\n      textWidth:''\r\n    }\r\n  },\r\n  components:{\r\n\r\n  },\r\nmounted(){\r\n          this.textWidth=document.getElementById('text').offsetWidth\r\n      axios('https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/getMall').then(res=>{\r\n        //   console.log(res.data)\r\n          this.marketList=res.data.list.map(item=>({\r\n            label:item.marketName,\r\n            value:item.marketName\r\n          }))\r\n          // this.textWidth=document.getElementById('text').offsetWidth\r\n        //  console.log(document.getElementById('text').offsetWidth)\r\n      })\r\n  },\r\n  methods:{\r\n    submitMarket(val){\r\n      this.$emit('marketGet',val)\r\n    }\r\n  },\r\n  computed:{\r\n    widthSet(){\r\n      return `width:calc(90% - ${this.textWidth}px);`\r\n    }\r\n  },\r\n  watch:{\r\n    marketSet(val){\r\n      console.log(val)\r\n      this.marketValue=val\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n<style scoped>\r\n  .widthset{\r\n    /* width:calc(100%-69px); */\r\n  }\r\n</style>","import { render } from \"./MarketSelect.vue?vue&type=template&id=29634978&scoped=true\"\nimport script from \"./MarketSelect.vue?vue&type=script&lang=js\"\nexport * from \"./MarketSelect.vue?vue&type=script&lang=js\"\n\nimport \"./MarketSelect.vue?vue&type=style&index=0&id=29634978&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-29634978\"\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MarketSelect.vue?vue&type=style&index=0&id=29634978&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ShopByShop.vue?vue&type=style&index=0&id=06004a28&scoped=true&lang=css\"","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}