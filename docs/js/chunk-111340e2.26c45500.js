(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-111340e2"],{"108b":function(e,t,a){},2532:function(e,t,a){"use strict";var o=a("23e7"),r=a("5a34"),n=a("1d80"),l=a("ab13");o({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~String(n(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"2bb7":function(e,t,a){"use strict";a("108b")},"44e7":function(e,t,a){var o=a("861d"),r=a("c6b6"),n=a("b622"),l=n("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[l])?!!t:"RegExp"==r(e))}},"5a34":function(e,t,a){var o=a("44e7");e.exports=function(e){if(o(e))throw TypeError("The method doesn't accept regular expressions");return e}},"63e7":function(e,t,a){"use strict";a.r(t);a("d81d"),a("fb6a"),a("4de4"),a("caad"),a("2532");var o=a("7a23"),r=Object(o["withScopeId"])("data-v-908c9ee8");Object(o["pushScopeId"])("data-v-908c9ee8");var n=Object(o["createVNode"])("span",{style:{"line-height":"40px"}},"商场名称:",-1),l=Object(o["createTextVNode"])("添加数据"),c=Object(o["createTextVNode"])("查询"),i=Object(o["createTextVNode"])("重置"),u=Object(o["createTextVNode"])("导出"),d=Object(o["createTextVNode"])("编辑"),m=Object(o["createTextVNode"])("删除"),s={class:"pagination"},f={class:"dialog-footer"},b=Object(o["createTextVNode"])("确 定"),p=Object(o["createTextVNode"])("取 消"),h={class:"dialog-footer"},k=Object(o["createTextVNode"])("确 定"),g=Object(o["createTextVNode"])("取 消");Object(o["popScopeId"])();var O=r((function(e,t,a,O,j,N){var V=Object(o["resolveComponent"])("crumbs"),v=Object(o["resolveComponent"])("el-col"),y=Object(o["resolveComponent"])("el-option"),C=Object(o["resolveComponent"])("el-select"),_=Object(o["resolveComponent"])("el-button"),x=Object(o["resolveComponent"])("export-excel"),w=Object(o["resolveComponent"])("el-row"),L=Object(o["resolveComponent"])("el-table-column"),D=Object(o["resolveComponent"])("el-table"),B=Object(o["resolveComponent"])("el-pagination"),S=Object(o["resolveComponent"])("el-card"),F=Object(o["resolveComponent"])("el-input"),z=Object(o["resolveComponent"])("el-form-item"),T=Object(o["resolveComponent"])("el-form"),G=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])("div",null,[Object(o["createVNode"])(V,{menu:"商场管理",subMenu:"场所信息"}),Object(o["createVNode"])(S,null,{header:r((function(){return[Object(o["createVNode"])(w,null,{default:r((function(){return[Object(o["createVNode"])(v,{span:2},{default:r((function(){return[n]})),_:1}),Object(o["createVNode"])(v,{span:12},{default:r((function(){return[Object(o["createVNode"])(v,{span:12},{default:r((function(){return[Object(o["createVNode"])(C,{modelValue:j.marketName,"onUpdate:modelValue":t[1]||(t[1]=function(e){return j.marketName=e}),placeholder:"请选择",clearable:""},{default:r((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(j.marketList,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(o["createVNode"])(v,{span:12,offset:1},{default:r((function(){return[Object(o["createVNode"])(_,{onClick:t[2]||(t[2]=function(e){return j.editVisible2=!0})},{default:r((function(){return[l]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(v,{span:9,style:{display:"flex","justify-content":"flex-end"}},{default:r((function(){return[Object(o["createVNode"])(_,{type:"primary",icon:"el-icon-search",onClick:N.onQuery},{default:r((function(){return[c]})),_:1},8,["onClick"]),Object(o["createVNode"])(_,{type:"primary",icon:"el-icon-refresh-right",onClick:N.reSet},{default:r((function(){return[i]})),_:1},8,["onClick"]),Object(o["createVNode"])(x,{"file-name":N._fileName,header:j.tableSet.map((function(e){return e.label})),"filter-filed":j.tableSet.map((function(e){return e.value})),data:N.exportTable},{default:r((function(){return[u]})),_:1},8,["file-name","header","filter-filed","data"])]})),_:1})]})),_:1})]})),default:r((function(){return[Object(o["createVNode"])(D,{data:j.tableData.filter((function(e){return!j.marketName||e.marketName.toLowerCase().includes(j.marketName.toLowerCase())})).slice((j.currentPage-1)*j.pagesize,j.currentPage*j.pagesize),border:"",class:"table","row-key":"id",ref:"multipleTable","header-cell-class-name":"table-header",onSelectionChange:e.handleSelectionChange,onSortChange:N.sortChange,"current-page":j.currentPage,stripe:""},{default:r((function(){return[Object(o["createVNode"])(L,{type:"index",label:"序号",width:"100",align:"center"}),(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(j.tableSet,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(L,{key:e,prop:e.value,label:e.label,align:"center",sortable:"总流量"==e.label},null,8,["prop","label","sortable"])})),128)),Object(o["createVNode"])(L,{label:"操作",width:"200",align:"center"},{default:r((function(e){return[Object(o["createVNode"])(_,{onClick:function(t){return N.handleEdit(e.$index,e.row)},size:"mini"},{default:r((function(){return[d]})),_:2},1032,["onClick"]),Object(o["createVNode"])(_,{type:"danger",size:"mini",onClick:function(t){return N.handleDelete(e.$index,e.row)}},{default:r((function(){return[m]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data","onSelectionChange","onSortChange","current-page"]),Object(o["createVNode"])("div",s,[Object(o["createVNode"])(B,{onSizeChange:N.handleSizeChange,onCurrentChange:N.handleCurrentChange,"page-sizes":[2,5,10],"page-size":j.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:j.tableData.filter((function(e){return!j.marketName||e.marketName.toLowerCase().includes(j.marketName.toLowerCase())})).length},null,8,["onSizeChange","onCurrentChange","page-size","total"])])]})),_:1}),Object(o["createVNode"])(G,{title:"编辑",modelValue:j.editVisible,"onUpdate:modelValue":t[10]||(t[10]=function(e){return j.editVisible=e}),width:"30%"},{footer:r((function(){return[Object(o["createVNode"])("span",f,[Object(o["createVNode"])(_,{type:"primary",onClick:N.saveEdit},{default:r((function(){return[b]})),_:1},8,["onClick"]),Object(o["createVNode"])(_,{onClick:N.cancelEdit},{default:r((function(){return[p]})),_:1},8,["onClick"])])]})),default:r((function(){return[Object(o["createVNode"])(T,{ref:"form",model:j.form,"label-width":"130px"},{default:r((function(){return[Object(o["createVNode"])(z,{label:"场所名称："},{default:r((function(){return[Object(o["createVNode"])(F,{modelValue:j.form.areaName,"onUpdate:modelValue":t[3]||(t[3]=function(e){return j.form.areaName=e}),style:{width:"53%"}},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(z,{label:"场所面积："},{default:r((function(){return[Object(o["createVNode"])(F,{modelValue:j.form.areaSize,"onUpdate:modelValue":t[4]||(t[4]=function(e){return j.form.areaSize=e}),style:{width:"53%"}},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(z,{label:"店铺名称："},{default:r((function(){return[Object(o["createVNode"])(F,{modelValue:j.form.shop,"onUpdate:modelValue":t[5]||(t[5]=function(e){return j.form.shop=e}),style:{width:"53%"}},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(z,{label:"店铺类型:"},{default:r((function(){return[Object(o["createVNode"])(C,{modelValue:j.form.type,"onUpdate:modelValue":t[6]||(t[6]=function(e){return j.form.type=e}),placeholder:"请选择"},{default:r((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(j.typeList,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(o["createVNode"])(z,{label:"商场名称:"},{default:r((function(){return[Object(o["createVNode"])(C,{modelValue:j.form.marketName,"onUpdate:modelValue":t[7]||(t[7]=function(e){return j.form.marketName=e}),placeholder:"请选择"},{default:r((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(j.marketList,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(o["createVNode"])(z,{label:"商场所属集团:"},{default:r((function(){return[Object(o["createVNode"])(C,{modelValue:j.form.marketGroup,"onUpdate:modelValue":t[8]||(t[8]=function(e){return j.form.marketGroup=e}),placeholder:"请选择"},{default:r((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(j.groupList,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(o["createVNode"])(z,{label:"所属大区:"},{default:r((function(){return[Object(o["createVNode"])(C,{modelValue:j.form.regionalinfo,"onUpdate:modelValue":t[9]||(t[9]=function(e){return j.form.regionalinfo=e}),placeholder:"请选择"},{default:r((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(j.regionalinfoList,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["modelValue"]),Object(o["createVNode"])(G,{title:"编辑",modelValue:j.editVisible2,"onUpdate:modelValue":t[15]||(t[15]=function(e){return j.editVisible2=e}),width:"30%",style:{"padding-left":"30px"}},{footer:r((function(){return[Object(o["createVNode"])("span",h,[Object(o["createVNode"])(_,{type:"primary",onClick:N.addData},{default:r((function(){return[k]})),_:1},8,["onClick"]),Object(o["createVNode"])(_,{onClick:N.cancelAdd},{default:r((function(){return[g]})),_:1},8,["onClick"])])]})),default:r((function(){return[Object(o["createVNode"])(T,{ref:"form",model:j.addForm,"label-width":"130px"},{default:r((function(){return[Object(o["createVNode"])(z,{label:"场所所属楼栋:"},{default:r((function(){return[Object(o["createVNode"])(C,{modelValue:j.addForm.building,"onUpdate:modelValue":t[11]||(t[11]=function(e){return j.addForm.building=e}),placeholder:"请选择"},{default:r((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(j.buildingList,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(o["createVNode"])(z,{label:"场所所属楼层:"},{default:r((function(){return[Object(o["createVNode"])(C,{modelValue:j.addForm.floor,"onUpdate:modelValue":t[12]||(t[12]=function(e){return j.addForm.floor=e}),placeholder:"请选择"},{default:r((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(j.floorList,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(o["createVNode"])(z,{label:"场所名称："},{default:r((function(){return[Object(o["createVNode"])(F,{modelValue:j.addForm.areaName,"onUpdate:modelValue":t[13]||(t[13]=function(e){return j.addForm.areaName=e}),style:{width:"53%"}},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(z,{label:"场所面积："},{default:r((function(){return[Object(o["createVNode"])(F,{modelValue:j.addForm.areaSize,"onUpdate:modelValue":t[14]||(t[14]=function(e){return j.addForm.areaSize=e}),style:{width:"53%"}},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(z,{label:"商场名称:"},{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(j.choose.marketName),1)]})),_:1}),Object(o["createVNode"])(z,{label:"商场所属集团:"},{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(j.choose.marketGroup),1)]})),_:1}),Object(o["createVNode"])(z,{label:"所属大区:"},{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(j.choose.regionalinfo),1)]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["modelValue"])])})),j=(a("7db0"),a("c740"),a("a434"),a("a7c0")),N=a("00fe"),V=a("bc3a"),v=a.n(V),y={name:"marketInfo",data:function(){return{timeRange:[],marketName:"群光广场",marketList:[],groupList:[],regionalinfoList:[],buildingList:[],floorList:[],typeList:[],queryMarket:"",tableData:[],choose:{marketName:"",marketGroup:"",regionalinfo:""},tableSet:[{value:"areaName",label:"场所名称"},{value:"areaSize",label:"场所面积"},{value:"building",label:"所属楼栋"},{value:"floor",label:"所属楼层"},{value:"shop",label:"入驻店铺"},{value:"type",label:"店铺类型"},{value:"marketName",label:"商场名称"},{value:"marketGroup",label:"商场所属集团"},{value:"regionalinfo",label:"所属大区信息"}],marketData:[{value:"qggc",marketname:"群光广场",marketgroup:"蓝天集团",regionalinfo:"华中大区",businesshours:"14",totalflow:123,date:"2020-1-1"},{value:"M+",marketname:"M+购物广场",marketgroup:"长江实业",regionalinfo:"华中大区",businesshours:"15",totalflow:221,date:"2020-1-1"},{value:"ytcyc",marketname:"银泰创意城",marketgroup:"ali",regionalinfo:"华中大区",businesshours:"11",totalflow:255,date:"2020-1-1"},{value:"sdgc",marketname:"时代商场",marketgroup:"汉龙实业",regionalinfo:"华中大区",businesshours:"12",totalflow:87,date:"2020-1-1"},{value:"zbcc",marketname:"中百仓储",marketgroup:"中百集团",regionalinfo:"华中大区",businesshours:"15",totalflow:231,date:"2020-1-1"},{value:"zsbh",marketname:"中商百货",marketgroup:"中商集团",regionalinfo:"华中大区",businesshours:"16",totalflow:222,date:"2020-1-1"}],marketDataCache:"",searchTableData:[],multipleSelection:[],delList:[],editVisible:!1,editVisible2:!1,form:{},idx:-1,currentPage:1,pagesize:5,total:0,addForm:{building:"",floor:"",marketName:"",marketGroup:"",regionalinfo:"",areaName:"",areaSize:"",shop:"",type:""}}},mounted:function(){var e=this;v()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/getLocalInfo").then((function(t){console.log(t.data.list),e.tableData=t.data.list,e.marketList=t.data.marketName,e.regionalinfoList=t.data.regionalinfo,e.groupList=t.data.marketGroup,e.typeList=t.data.type,e.buildingList=t.data.building,e.floorList=t.data.floor,e.choose.marketName=e.marketName,e.choose.marketGroup=e.tableData.find((function(t){return t.marketName==e.marketName})).marketGroup,e.choose.regionalinfo=e.tableData.find((function(t){return t.marketName==e.marketName})).regionalinfo,e.addForm.marketGroup=e.choose.marketGroup,e.addForm.regionalinfo=e.choose.regionalinfo,e.addForm.marketName=e.choose.marketName}))},methods:{handleDelete:function(e,t){var a=this;console.log(t),this.$confirm("确定要删除这条记录吗？","提示",{type:"warning"}).then((function(){var e=a.tableData.findIndex((function(e){return e.marketName==t.marketName&&e.marketGroup==t.marketGroup&&e.regionalinfo==t.regionalinfo}));console.log(e),a.tableData.splice(e,1),a.total=a.tableData.filter((function(e){return!a.marketName||e.marketName.toLowerCase().includes(a.marketName.toLowerCase())})).length})).catch((function(){}))},handleEdit:function(e,t){console.log(t),console.log(this.timeRange),this.idx=e,this.marketDataCache=JSON.stringify(t),this.form=t,this.editVisible=!0},addData:function(){this.tableData.unshift(this.addForm),this.addForm={marketName:"",marketGroup:"",regionalinfo:"",areaName:"",areaSize:"",shop:"",type:""},this.editVisible2=!1,this.$message.success("添加成功")},cancelAdd:function(){this.addForm={marketName:"",marketGroup:"",regionalinfo:"",areaName:"",areaSize:"",shop:"",type:""},this.editVisible2=!1},cancelEdit:function(){console.log(this.marketDataCache),this.editVisible=!1,this.tableData[this.idx]=JSON.parse(this.marketDataCache),this.marketDataCache=""},saveEdit:function(){this.editVisible=!1,this.form.businessTime=this.$moment(this.timeRange[0]).format("HH:mm")+"-"+this.$moment(this.timeRange[1]).format("HH:mm"),this.$message.success("修改第 ".concat(this.idx+1," 行成功")),this.tableData[this.idx]=this.form,this.marketDataCache=""},sortChange:function(e){"ascending"==e.order?this.tableData.sort((function(t,a){return t[e.prop]-a[e.prop]})):"descending"==e.order?this.tableData.sort((function(t,a){return a[e.prop]-t[e.prop]})):this.tableData.sort((function(e,t){return e.flowRank-t.flowRank}))},onQuery:function(){var e=this;v()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/getLocalInfo").then((function(t){console.log(t.data.list),e.tableData=t.data.list,e.marketList=t.data.marketName}))},reSet:function(){this.marketName="",this.onQuery()},handleSizeChange:function(e){this.pagesize=e,console.log(this.pagesize)},handleCurrentChange:function(e){this.currentPage=e}},components:{crumbs:N["a"],ExportExcel:j["a"]},computed:{exportTable:function(){var e=this;return this.tableData.filter((function(t){return!e.marketName||t.marketName.toLowerCase().includes(e.marketName.toLowerCase())}))},_fileName:function(){return"场所信息-".concat(this.$moment().format("YYYYDDMM"))}},watch:{marketName:function(e){this.choose.marketName=e,this.choose.marketGroup=this.tableData.find((function(t){return t.marketName==e})).marketGroup,this.choose.regionalinfo=this.tableData.find((function(t){return t.marketName==e})).regionalinfo,this.addForm.marketGroup=this.choose.marketGroup,this.addForm.regionalinfo=this.choose.regionalinfo,this.addForm.marketName=this.choose.marketName}}};a("2bb7");y.render=O,y.__scopeId="data-v-908c9ee8";t["default"]=y},"7db0":function(e,t,a){"use strict";var o=a("23e7"),r=a("b727").find,n=a("44d2"),l="find",c=!0;l in[]&&Array(1)[l]((function(){c=!1})),o({target:"Array",proto:!0,forced:c},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(l)},ab13:function(e,t,a){var o=a("b622"),r=o("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[r]=!1,"/./"[e](t)}catch(o){}}return!1}},c740:function(e,t,a){"use strict";var o=a("23e7"),r=a("b727").findIndex,n=a("44d2"),l="findIndex",c=!0;l in[]&&Array(1)[l]((function(){c=!1})),o({target:"Array",proto:!0,forced:c},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(l)},caad:function(e,t,a){"use strict";var o=a("23e7"),r=a("4d64").includes,n=a("44d2");o({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")},fb6a:function(e,t,a){"use strict";var o=a("23e7"),r=a("861d"),n=a("e8b5"),l=a("23cb"),c=a("50c4"),i=a("fc6a"),u=a("8418"),d=a("b622"),m=a("1dde"),s=m("slice"),f=d("species"),b=[].slice,p=Math.max;o({target:"Array",proto:!0,forced:!s},{slice:function(e,t){var a,o,d,m=i(this),s=c(m.length),h=l(e,s),k=l(void 0===t?s:t,s);if(n(m)&&(a=m.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?r(a)&&(a=a[f],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return b.call(m,h,k);for(o=new(void 0===a?Array:a)(p(k-h,0)),d=0;h<k;h++,d++)h in m&&u(o,d,m[h]);return o.length=d,o}})}}]);
//# sourceMappingURL=chunk-111340e2.26c45500.js.map